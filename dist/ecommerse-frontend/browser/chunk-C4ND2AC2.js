import{b as T,c as I,d as N,e as V,f as W,g as z,i as B,j as A,k as F,n as D}from"./chunk-JZXMG4AI.js";import{B as g,Ba as M,C as u,Da as o,Fa as y,Ha as _,Ia as h,Ja as x,P as m,T as P,W as S,Za as w,_ as b,_a as O,a as v,gb as E,ha as s,ia as t,ja as n,ka as p,lb as k,qa as C,sa as c,ua as f}from"./chunk-6OIMN5L7.js";function L(a,l){if(a&1){let i=C();t(0,"div",39)(1,"button",40),c("click",function(){g(i);let e=f(2);return u(e.saveChanges())}),o(2," Save Changes "),n(),t(3,"button",41),c("click",function(){g(i);let e=f(2);return u(e.cancel())}),o(4," Cancel "),n()()}}function j(a,l){if(a&1){let i=C();t(0,"div",19)(1,"h2",20),o(2,"My Profile"),n(),t(3,"div",21)(4,"div",22),o(5),n(),t(6,"button",23),c("click",function(){g(i);let e=f();return u(e.changeAvatar())}),o(7," Change "),n()(),t(8,"div",24)(9,"h3",25),o(10,"Personal information"),n(),t(11,"form")(12,"div",26)(13,"label",27),o(14,"Full Name:"),n(),t(15,"div",28)(16,"input",29),x("ngModelChange",function(e){g(i);let d=f();return h(d.userProfile.userName,e)||(d.userProfile.userName=e),u(e)}),n(),t(17,"button",30),c("click",function(){g(i);let e=f();return u(e.editField("userName"))}),o(18," Edit "),n()()(),t(19,"div",26)(20,"label",27),o(21,"Email Address:"),n(),t(22,"input",31),x("ngModelChange",function(e){g(i);let d=f();return h(d.userProfile.email,e)||(d.userProfile.email=e),u(e)}),n()(),t(23,"div",26)(24,"label",27),o(25,"Mobile Number:"),n(),t(26,"input",32),x("ngModelChange",function(e){g(i);let d=f();return h(d.userProfile.mobile,e)||(d.userProfile.mobile=e),u(e)}),n()(),t(27,"div",26)(28,"label",27),o(29,"Gender"),n(),t(30,"div",28)(31,"select",33),x("ngModelChange",function(e){g(i);let d=f();return h(d.userProfile.gender,e)||(d.userProfile.gender=e),u(e)}),t(32,"option",34),o(33,"Female"),n(),t(34,"option",35),o(35,"Male"),n(),t(36,"option",36),o(37,"Other"),n()(),t(38,"button",30),c("click",function(){g(i);let e=f();return u(e.editField("gender"))}),o(39," Edit "),n()()(),t(40,"div",26)(41,"label",27),o(42,"Date of Borth:"),n(),t(43,"div",28)(44,"input",37),x("ngModelChange",function(e){g(i);let d=f();return h(d.userProfile.dateOfBirth,e)||(d.userProfile.dateOfBirth=e),u(e)}),n(),t(45,"button",30),c("click",function(){g(i);let e=f();return u(e.editField("dateOfBirth"))}),o(46," Edit "),n()()(),b(47,L,5,0,"div",38),n()()()}if(a&2){let i=f();m(5),y(" ",i.getInitial()," "),m(11),_("ngModel",i.userProfile.userName),s("disabled",!i.isEditing),m(6),_("ngModel",i.userProfile.email),s("disabled",!i.isEditing),m(4),_("ngModel",i.userProfile.mobile),s("disabled",!i.isEditing),m(5),_("ngModel",i.userProfile.gender),s("disabled",!i.isEditing),m(13),_("ngModel",i.userProfile.dateOfBirth),s("disabled",!i.isEditing),m(3),s("ngIf",i.isEditing)}}function J(a,l){a&1&&(t(0,"div",19)(1,"h3",20),o(2,"My Orders"),n()())}function Y(a,l){a&1&&(t(0,"div",19)(1,"h3",20),o(2,"My Addresses"),n()())}function G(a,l){a&1&&(t(0,"div",19)(1,"h3",20),o(2,"Payment Methods"),n()())}function R(a,l){a&1&&(t(0,"div",19)(1,"h3",20),o(2,"My Wishlist"),n()())}function H(a,l){a&1&&(t(0,"div",19)(1,"h3",20),o(2,"My Notifications"),n()())}function q(a,l){a&1&&(t(0,"div",19)(1,"h3",20),o(2,"Change Password"),n()())}var U=class a{constructor(l,i){this.router=l;this.authService=i}userProfile={userName:"",email:"",mobile:"",gender:"",dateOfBirth:""};originalProfile=v({},this.userProfile);isEditing=!1;activeMenu="profile";ngOnInit(){let l=localStorage.getItem("currentUser");if(!l){this.router.navigate(["/auth"]);return}let r=JSON.parse(l).userId;this.authService.getUserProfile(r).subscribe({next:e=>{e.success&&e.data?(this.userProfile=e.data,this.originalProfile=v({},e.data),localStorage.setItem("userProfile",JSON.stringify(e.data))):(console.warn("Unexpected profile format:",e),this.router.navigate(["/auth"]))},error:e=>{console.error("Failed to load profile:",e),this.router.navigate(["/auth"])}})}getInitial(){return this.userProfile.userName.charAt(0).toUpperCase()}navigateTo(l){this.activeMenu=l}changeAvatar(){console.log("Change avatar clicked")}editField(l){this.isEditing=!0}saveChanges(){localStorage.setItem("userProfile",JSON.stringify(this.userProfile));let l=localStorage.getItem("currentUser");if(l){let i=JSON.parse(l);i.name=this.userProfile.userName,i.email=this.userProfile.email,localStorage.setItem("currentUser",JSON.stringify(i))}this.originalProfile=v({},this.userProfile),this.isEditing=!1,alert("Profile updated successfully!")}cancel(){this.userProfile=v({},this.originalProfile),this.isEditing=!1}logout(){this.authService.logout(),localStorage.removeItem("currentUser"),localStorage.removeItem("userProfile"),this.router.navigate(["/"])}changePassword(){this.router.navigate(["/change-password"])}static \u0275fac=function(i){return new(i||a)(P(E),P(k))};static \u0275cmp=S({type:a,selectors:[["app-profile-summary"]],decls:50,vars:9,consts:[[1,"profile-page"],[1,"profile-header"],[1,"logo-container"],["src","images/LOGO.png","alt","Her Glamora",1,"header-logo"],[1,"profile-content"],[1,"container"],[1,"row","g-4"],[1,"col-lg-4"],[1,"sidebar-card"],[1,"user-info-header"],[1,"fa-solid","fa-circle-info","info-icon"],[1,"menu-list"],["href","javascript:void(0)",1,"menu-item",3,"click"],[1,"fa-solid","fa-chevron-right"],[1,"menu-section-title"],[1,"logout-container"],[1,"btn-logout",3,"click"],[1,"col-lg-8"],["class","content-card",4,"ngIf"],[1,"content-card"],[1,"page-title"],[1,"avatar-section"],[1,"avatar-circle"],[1,"btn-change-avatar",3,"click"],[1,"form-section"],[1,"section-title"],[1,"form-group"],[1,"form-label"],[1,"input-with-action"],["type","text","name","userName",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn-edit",3,"click"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","tel","name","mobile",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","gender",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value","Female"],["value","Male"],["value","Other"],["type","text","name","dateOfBirth","placeholder","DD/MM/YYYY",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-save",3,"click"],["type","button",1,"btn","btn-cancel",3,"click"]],template:function(i,r){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),p(3,"img",3),n()(),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),p(10,"i",10),n(),t(11,"div",11)(12,"a",12),c("click",function(){return r.navigateTo("profile")}),t(13,"span"),o(14,"Profile Details"),n()(),t(15,"a",12),c("click",function(){return r.navigateTo("orders")}),t(16,"span"),o(17,"My Orders"),n(),p(18,"i",13),n(),t(19,"div",14),o(20,"Addresses"),n(),t(21,"a",12),c("click",function(){return r.navigateTo("addresses")}),t(22,"span"),o(23,"Addresses"),n(),p(24,"i",13),n(),t(25,"a",12),c("click",function(){return r.navigateTo("payment-methods")}),t(26,"span"),o(27,"Payment Methods"),n(),p(28,"i",13),n(),t(29,"a",12),c("click",function(){return r.navigateTo("wishlist")}),t(30,"span"),o(31,"Wishlist"),n()(),t(32,"a",12),c("click",function(){return r.navigateTo("notifications")}),t(33,"span"),o(34,"Notifications"),n()(),t(35,"a",12),c("click",function(){return r.navigateTo("changePassword")}),t(36,"span"),o(37,"Change Password"),n(),p(38,"i",13),n()(),t(39,"div",15)(40,"button",16),c("click",function(){return r.logout()}),o(41," Logout "),n()()()(),t(42,"div",17),b(43,j,48,12,"div",18)(44,J,3,0,"div",18)(45,Y,3,0,"div",18)(46,G,3,0,"div",18)(47,R,3,0,"div",18)(48,H,3,0,"div",18)(49,q,3,0,"div",18),n()()()()()),i&2&&(m(12),M("active",r.activeMenu==="profile"),m(31),s("ngIf",r.activeMenu==="profile"),m(),s("ngIf",r.activeMenu==="orders"),m(),s("ngIf",r.activeMenu==="addresses"),m(),s("ngIf",r.activeMenu==="payment-methods"),m(),s("ngIf",r.activeMenu==="wishlist"),m(),s("ngIf",r.activeMenu==="notifications"),m(),s("ngIf",r.activeMenu==="changePassword"))},dependencies:[O,w,D,z,A,F,T,B,I,N,W,V],styles:[".profile-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5e6e8,#e8d5d8);padding-bottom:3rem}.profile-header[_ngcontent-%COMP%]{background:#fff;padding:1.5rem 0;box-shadow:0 2px 8px #0000000d;margin-bottom:2rem}.logo-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem;text-align:center}.header-logo[_ngcontent-%COMP%]{max-width:150px;height:auto}.profile-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem}.sidebar-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 12px #00000014}.user-info-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1rem}.info-icon[_ngcontent-%COMP%]{color:#b89b9d;font-size:1.2rem}.menu-list[_ngcontent-%COMP%]{margin-bottom:2rem}.menu-section-title[_ngcontent-%COMP%]{color:#94969f;font-size:13px;font-weight:600;padding:1rem 0 .5rem;margin-top:.5rem;border-top:1px solid #f0f0f0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.875rem 1rem;color:#282c3f;text-decoration:none;font-size:14px;border-radius:8px;transition:all .2s ease;margin-bottom:.25rem}.menu-item[_ngcontent-%COMP%]:hover{background:#fef5f5;color:#c97882}.menu-item.active[_ngcontent-%COMP%]{background:#fce8ea;color:#c97882;font-weight:500}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#94969f}.logout-container[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid #f0f0f0}.btn-logout[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff;color:#c97882;border:1.5px solid #c97882;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-logout[_ngcontent-%COMP%]:hover{background:#c97882;color:#fff}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 12px #00000014}.page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#282c3f;margin-bottom:2rem;text-align:center}.avatar-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:2.5rem}.avatar-circle[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border:2px solid #c97882;display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:600;color:#c97882;background:#fef5f5;margin-bottom:1rem}.btn-change-avatar[_ngcontent-%COMP%]{background:transparent;color:#c97882;border:none;font-size:14px;cursor:pointer;text-decoration:underline;transition:color .2s ease}.btn-change-avatar[_ngcontent-%COMP%]:hover{color:#a85f68}.form-section[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#282c3f;margin-bottom:1.5rem;padding-bottom:.75rem;border-bottom:1px solid #f0f0f0}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#282c3f;font-weight:500;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #d4d5d9;border-radius:6px;font-size:14px;color:#282c3f;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c97882;box-shadow:0 0 0 3px #c978821a}.form-control[_ngcontent-%COMP%]:disabled{background:#fafafa;color:#94969f;cursor:not-allowed}.input-with-action[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.input-with-action[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}.btn-edit[_ngcontent-%COMP%]{padding:.5rem 1rem;background:transparent;color:#c97882;border:none;font-size:13px;font-weight:500;cursor:pointer;white-space:nowrap;transition:color .2s ease}.btn-edit[_ngcontent-%COMP%]:hover{color:#a85f68;text-decoration:underline}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #f0f0f0}.btn[_ngcontent-%COMP%]{flex:1;padding:.875rem;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;border:none}.btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8a4ae,#c97882);color:#fff;box-shadow:0 4px 12px #c978824d}.btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #c9788266}.btn-cancel[_ngcontent-%COMP%]{background:#fff;color:#666;border:1px solid #d4d5d9}.btn-cancel[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#999}@media (max-width: 992px){.sidebar-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}}@media (max-width: 768px){.profile-content[_ngcontent-%COMP%]{padding:0 .75rem}.content-card[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.input-with-action[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.btn-edit[_ngcontent-%COMP%]{align-self:flex-end;padding:.5rem 0}}"]})};export{U as ProfileSummaryComponent};
